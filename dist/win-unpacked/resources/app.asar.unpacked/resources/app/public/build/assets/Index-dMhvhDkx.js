import{b as I,r as x,j as e,H as P,L as m,a as h}from"./app-BndNHLne.js";import{A}from"./authenticated-layout-o3ZVkSEy.js";import{a as D,B as r}from"./button-B938siKt.js";import{I as L}from"./input-7eto-rc8.js";import{C as v,a as b,b as S,d as C}from"./card-BXOJrilN.js";import{B as z}from"./badge-nSDNWomG.js";import{T as B,a as H,b as k,c as t,d as R,e as l}from"./table-BlxktNVL.js";import{P as w,S as q,a as Q,b as $,c as V,d as j}from"./select-WmQj3lC4.js";import{F as G}from"./filter-DR27Bd-Q.js";import{S as K}from"./app-header-layout-DF_mBwyX.js";import{E as U}from"./eye-NfPWzyT0.js";import{S as J}from"./square-pen-CUbqWbl4.js";/* empty css            */import"./index-DI4Ye8VL.js";import"./index-QVslWZ3W.js";import"./check-BCEkxITN.js";import"./app-logo-icon-Dajt3FdR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],W=D("QrCode",O);function pe({items:p,pagination:a,filters:n}){const{errors:X,flash:c}=I().props,[d,u]=x.useState(n.search||""),[o,g]=x.useState(()=>n.status!==void 0&&n.status!==null?n.status?"true":"false":"all"),[N,_]=x.useState(!1);console.log("Received filters:",n);const F=()=>{const s={};d&&(s.search=d),o!=="all"&&(s.status=o==="true"),h.get("/items",s,{preserveState:!0,preserveScroll:!0})},y=()=>{F()},T=s=>{g(s);const i={};d&&(i.search=d),s!=="all"&&(i.status=s==="true"),console.log("Applying filters:",i),h.get("/items",i,{preserveState:!0,preserveScroll:!0})},M=()=>{u(""),g("all"),h.get("/items",{},{preserveState:!0,preserveScroll:!0})},f=s=>{const i={page:s};d&&(i.search=d),o!=="all"&&(i.status=o==="true"),h.get("/items",i,{preserveState:!0,preserveScroll:!0})},E=[{title:"Panel de Control",href:"/dashboard"},{title:"Items",href:"/items"}];return e.jsxs(A,{breadcrumbs:E,children:[e.jsx(P,{title:"Items"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Artículos"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los almacenes del sistema de inventario"})]}),e.jsx(r,{asChild:!0,children:e.jsxs(m,{href:"/items/create",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Nuevo Artículo"]})})]}),(c==null?void 0:c.success)&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:c.success}),(c==null?void 0:c.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c.error}),e.jsxs(v,{className:"shadow-sm",children:[e.jsx(b,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{className:"text-lg",children:"Filtros"}),e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>_(!N),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Mostrar Filtros"]})]})}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(L,{placeholder:"Buscar por nombre, código, descripción o QR...",value:d,onChange:s=>u(s.target.value),onKeyDown:s=>s.key==="Enter"&&y()})}),e.jsxs(r,{onClick:y,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Buscar"]})]}),N&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs(q,{value:o,onValueChange:T,children:[e.jsx(Q,{children:e.jsx($,{placeholder:"Seleccionar estado"})}),e.jsxs(V,{children:[e.jsx(j,{value:"all",children:"Todos"}),e.jsx(j,{value:"true",children:"Activos"}),e.jsx(j,{value:"false",children:"Inactivos"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(r,{variant:"outline",onClick:M,children:"Limpiar Filtros"})})]})]})]}),e.jsxs(v,{className:"shadow-sm",children:[e.jsx(b,{children:e.jsxs(S,{children:["Resultados",e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["Mostrando ",a.from||0," - ",a.to||0," de ",a.total," items"]})]})}),e.jsx(C,{children:p.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-md border overflow-hidden",children:e.jsxs(B,{children:[e.jsx(H,{children:e.jsxs(k,{children:[e.jsx(t,{className:"py-4",children:"Código"}),e.jsx(t,{className:"py-4",children:"Nombre"}),e.jsx(t,{className:"py-4",children:"Precio"}),e.jsx(t,{className:"py-4",children:"Unidad"}),e.jsx(t,{className:"py-4",children:"Disponible"}),e.jsx(t,{className:"py-4",children:"QR Code"}),e.jsx(t,{className:"py-4",children:"Estado"}),e.jsx(t,{className:"py-4",children:"Fecha Creación"}),e.jsx(t,{className:"text-right py-4",children:"Acciones"})]})}),e.jsx(R,{children:p.map(s=>e.jsxs(k,{children:[e.jsx(l,{className:"font-mono text-sm py-4",children:s.code}),e.jsx(l,{className:"font-medium py-4",children:s.name}),e.jsx(l,{className:"py-4",children:s.price?e.jsxs("span",{className:"font-medium",children:["$",s.price.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(l,{className:"py-4",children:s.unit||e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(l,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:`font-medium ${s.total_stock>0?"text-green-700":"text-red-600"}`,children:s.total_stock.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}),e.jsx("span",{className:"text-gray-500 text-sm",children:s.unit||"unidades"})]})}),e.jsx(l,{className:"py-4",children:s.qr_code?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-mono text-xs",children:s.qr_code})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(l,{className:"py-4",children:e.jsx(z,{variant:s.status?"default":"secondary",children:s.status_text})}),e.jsx(l,{className:"py-4",children:new Date(s.created_at).toLocaleDateString("es-ES")}),e.jsx(l,{className:"text-right py-4",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(m,{href:`/items/${s.id}`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsx(m,{href:`/items/${s.id}/edit`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(J,{className:"h-4 w-4"})})})]})})]},s.id))})]})}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Página ",a.current_page," de ",a.last_page]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>f(a.current_page-1),disabled:a.current_page===1,children:"Anterior"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>f(a.current_page+1),disabled:!a.has_more_pages,children:"Siguiente"})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 mb-4",children:"No se encontraron items"}),e.jsx(r,{asChild:!0,children:e.jsxs(m,{href:"/items/create",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Crear Primer Item"]})})]})})]})]})]})}export{pe as default};
