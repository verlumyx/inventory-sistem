import{r as c,j as e,H as le,L as A,a as ce}from"./app-Doa1X8LG.js";import{A as oe}from"./authenticated-layout-zkXyR4IY.js";import{a as ne,u as S,b as de,c as n,d as R,B as u}from"./button-D4rUH4JB.js";import{B as f}from"./badge-BJmshktp.js";import{C as N,a as v,b as D,d as y,c as me}from"./card-DF370HhO.js";import{T as xe,a as ge,b as _,c as x,d as pe,e as g}from"./table-DBCaEuI0.js";import{c as he,a as je}from"./index-CUR25A5V.js";import{c as T,R as ue,T as fe,a as Ne,W as ve,C as De,b as ye,D as Ae,d as P,O as be,P as b}from"./app-header-layout-DeCsVdE4.js";import{A as Ce}from"./arrow-left-DUbe0Jwt.js";import{S as w}from"./square-pen-Dxq6FGvn.js";import{C as _e}from"./circle-check-big-C09TKG2P.js";import{H as we}from"./hash-BmMoBXAk.js";import{C as E}from"./calendar-B9krn2dk.js";/* empty css            */import"./index-Cxkacx_1.js";import"./app-logo-icon-CJVXHink.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Se=ne("MapPin",Ee);var $="AlertDialog",[Re,cs]=he($,[T]),o=T(),F=s=>{const{__scopeAlertDialog:t,...a}=s,i=o(t);return e.jsx(ue,{...i,...a,modal:!0})};F.displayName=$;var Te="AlertDialogTrigger",O=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(fe,{...l,...i,ref:t})});O.displayName=Te;var Pe="AlertDialogPortal",L=s=>{const{__scopeAlertDialog:t,...a}=s,i=o(t);return e.jsx(Ne,{...i,...a})};L.displayName=Pe;var $e="AlertDialogOverlay",M=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(be,{...l,...i,ref:t})});M.displayName=$e;var p="AlertDialogContent",[Fe,Oe]=Re(p),Le=de("AlertDialogContent"),k=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,children:i,...l}=s,h=o(a),d=c.useRef(null),r=S(t,d),m=c.useRef(null);return e.jsx(ve,{contentName:p,titleName:H,docsSlug:"alert-dialog",children:e.jsx(Fe,{scope:a,cancelRef:m,children:e.jsxs(De,{role:"alertdialog",...h,...l,ref:r,onOpenAutoFocus:je(l.onOpenAutoFocus,j=>{var C;j.preventDefault(),(C=m.current)==null||C.focus({preventScroll:!0})}),onPointerDownOutside:j=>j.preventDefault(),onInteractOutside:j=>j.preventDefault(),children:[e.jsx(Le,{children:i}),e.jsx(ke,{contentRef:d})]})})})});k.displayName=p;var H="AlertDialogTitle",B=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(ye,{...l,...i,ref:t})});B.displayName=H;var z="AlertDialogDescription",q=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(Ae,{...l,...i,ref:t})});q.displayName=z;var Me="AlertDialogAction",G=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(P,{...l,...i,ref:t})});G.displayName=Me;var I="AlertDialogCancel",V=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,{cancelRef:l}=Oe(I,a),h=o(a),d=S(t,l);return e.jsx(P,{...h,...i,ref:d})});V.displayName=I;var ke=({contentRef:s})=>{const t=`\`${p}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${p}\` by passing a \`${z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${p}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var i;document.getElementById((i=s.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},He=F,Be=O,ze=L,W=M,Y=k,U=G,J=V,K=B,Q=q;const qe=He,Ge=Be,Ie=ze,X=c.forwardRef(({className:s,...t},a)=>e.jsx(W,{className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));X.displayName=W.displayName;const Z=c.forwardRef(({className:s,...t},a)=>e.jsxs(Ie,{children:[e.jsx(X,{}),e.jsx(Y,{ref:a,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));Z.displayName=Y.displayName;const ee=({className:s,...t})=>e.jsx("div",{className:n("flex flex-col space-y-2 text-center sm:text-left",s),...t});ee.displayName="AlertDialogHeader";const se=({className:s,...t})=>e.jsx("div",{className:n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});se.displayName="AlertDialogFooter";const ae=c.forwardRef(({className:s,...t},a)=>e.jsx(K,{ref:a,className:n("text-lg font-semibold",s),...t}));ae.displayName=K.displayName;const te=c.forwardRef(({className:s,...t},a)=>e.jsx(Q,{ref:a,className:n("text-sm text-muted-foreground",s),...t}));te.displayName=Q.displayName;const ie=c.forwardRef(({className:s,...t},a)=>e.jsx(U,{ref:a,className:n(R(),s),...t}));ie.displayName=U.displayName;const re=c.forwardRef(({className:s,...t},a)=>e.jsx(J,{ref:a,className:n(R({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));re.displayName=J.displayName;function os({entry:s,items:t,metadata:a}){const[i,l]=c.useState(!1),h=()=>{ce.patch(route("entries.receive",s.id),{},{onSuccess:()=>{}}),l(!1)},d=[{title:"Panel de Control",href:"/dashboard"},{title:"Entradas",href:"/entries"},{title:s.code,href:`/entries/${s.id}`}];return e.jsxs(oe,{breadcrumbs:d,children:[e.jsx(le,{title:`Entrada - ${s.code}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-sm font-mono text-gray-600 dark:text-gray-400",children:s.code}),e.jsx(f,{variant:s.status?"default":"secondary",className:s.status===1?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.status_text})]})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(A,{href:"/entries",children:e.jsxs(u,{variant:"outline",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Volver"]})}),s.status===0&&e.jsx(A,{href:route("entries.edit",s.id),children:e.jsxs(u,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Editar"]})}),s.status===0&&e.jsxs(qe,{open:i,onOpenChange:l,children:[e.jsx(Ge,{asChild:!0,children:e.jsxs(u,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(_e,{className:"mr-2 h-4 w-4"}),"Recibir"]})}),e.jsxs(Z,{children:[e.jsxs(ee,{children:[e.jsx(ae,{children:"Confirmar Recepción"}),e.jsxs(te,{children:["¿Está seguro de que desea marcar la entrada ",e.jsx("strong",{children:s.code})," como recibida?",e.jsx("br",{}),"Esta acción no se puede deshacer."]})]}),e.jsxs(se,{children:[e.jsx(re,{children:"Cancelar"}),e.jsx(ie,{onClick:h,className:"bg-green-600 hover:bg-green-700",children:"Sí, marcar como recibida"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Información de la Entrada"]})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"text-gray-900 font-medium",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-gray-900 font-mono",children:s.code})]}),s.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descripción"}),e.jsx("p",{className:"text-gray-900",children:s.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("div",{className:"mt-1",children:e.jsx(f,{variant:s.status?"default":"secondary",className:s.status?"bg-green-100 text-green-800":"",children:s.status_text})})]})]})})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Estadísticas"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.total_items}),e.jsx("div",{className:"text-sm text-blue-600",children:"Items"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.total_amount.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}),e.jsx("div",{className:"text-sm text-green-600",children:"Cantidad Total"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(E,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-500",children:"Creado:"}),e.jsx("span",{className:"font-medium",children:a.created_ago}),a.is_recently_created&&e.jsx(f,{variant:"outline",className:"text-xs",children:"Reciente"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(E,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-500",children:"Actualizado:"}),e.jsx("span",{className:"font-medium",children:a.updated_ago}),a.is_recently_updated&&e.jsx(f,{variant:"outline",className:"text-xs",children:"Reciente"})]})]})]})]})]}),e.jsxs(N,{children:[e.jsxs(v,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Items de la Entrada"]}),e.jsx(me,{children:a.total_items>0?`${a.total_items} item${a.total_items!==1?"s":""} en esta entrada`:"No hay items en esta entrada"})]}),e.jsx(y,{children:t.length>0?e.jsxs("div",{className:"rounded-md border",children:[e.jsxs(xe,{children:[e.jsx(ge,{children:e.jsxs(_,{children:[e.jsx(x,{className:"py-4",children:"Item"}),e.jsx(x,{className:"py-4",children:"Código"}),e.jsx(x,{className:"py-4",children:"Almacén"}),e.jsx(x,{className:"py-4",children:"Cantidad"}),e.jsx(x,{className:"py-4",children:"Precio Unit."}),e.jsx(x,{className:"py-4",children:"Total"})]})}),e.jsx(pe,{children:t.map(r=>e.jsxs(_,{children:[e.jsx(g,{className:"py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.item.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.item.display_name})]})}),e.jsx(g,{className:"font-mono py-4",children:r.item.code}),e.jsx(g,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.warehouse.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.warehouse.code})]})]})}),e.jsxs(g,{className:"py-4",children:[e.jsx("div",{className:"font-medium",children:r.amount.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}),r.item.unit&&e.jsx("div",{className:"text-sm text-gray-500",children:r.item.unit})]}),e.jsx(g,{className:"py-4",children:r.item.price?e.jsxs("span",{className:"font-medium",children:["$",r.item.price.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(g,{className:"py-4",children:r.item.price?e.jsxs("span",{className:"font-medium text-green-600",children:["$",(r.item.price*r.amount).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},r.id))})]}),e.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"font-medium",children:"Total de la Entrada:"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",t.reduce((r,m)=>r+(m.item.price?m.item.price*m.amount:0),0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"flex justify-between items-center text-sm text-gray-600 mt-1",children:e.jsxs("div",{children:[a.total_items," item",a.total_items!==1?"s":""," • ",a.total_amount.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," unidades totales"]})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"No hay items"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Esta entrada no tiene items asociados."}),e.jsx(A,{href:route("entries.edit",s.id),className:"mt-4 inline-block",children:e.jsxs(u,{variant:"outline",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Agregar Items"]})})]})})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsx(D,{children:"Información Adicional"})}),e.jsx(y,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-500",children:"ID de la Entrada"}),e.jsx("p",{className:"text-gray-900",children:s.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-500",children:"Fecha de Creación"}),e.jsx("p",{className:"text-gray-900",children:new Date(s.created_at).toLocaleString("es-ES")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-500",children:"Última Modificación"}),e.jsx("p",{className:"text-gray-900",children:new Date(s.updated_at).toLocaleString("es-ES")})]})]})})]})]})]})}export{os as default};
