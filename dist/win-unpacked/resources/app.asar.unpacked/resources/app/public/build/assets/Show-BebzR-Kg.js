import{b as w,j as e,H as C,L as j,a as g}from"./app-BndNHLne.js";import{A as k}from"./authenticated-layout-o3ZVkSEy.js";import{a as T,B as c}from"./button-B938siKt.js";import{C as n,a as i,b as m,d as x,c as P}from"./card-BXOJrilN.js";import{B as p}from"./badge-nSDNWomG.js";import{T as S,a as A,b as o,c as l,d as D,e as t}from"./table-BlxktNVL.js";import{C as N}from"./circle-check-big-6HIQxMB4.js";import{C as u}from"./clock-C3sT1AsW.js";import{A as F}from"./arrow-left-BYeRaKVa.js";import{S as H}from"./square-pen-CUbqWbl4.js";import{e as L,f as B,P as f}from"./app-header-layout-DF_mBwyX.js";/* empty css            */import"./index-QVslWZ3W.js";import"./index-DI4Ye8VL.js";import"./app-logo-icon-Dajt3FdR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$=T("DollarSign",M);function Z({invoice:s}){const{flash:r,errors:d}=w().props,h=a=>new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=()=>{g.patch(`/invoices/${s.id}/mark-as-paid`,{},{onSuccess:()=>{}})},y=()=>{g.patch(`/invoices/${s.id}/mark-as-pending`,{},{onSuccess:()=>{}})},_=[{title:"Panel de Control",href:"/dashboard"},{title:"Facturas",href:"/invoices"},{title:s.code,href:`/invoices/${s.id}`}];return e.jsxs(k,{breadcrumbs:_,children:[e.jsx(C,{title:`Factura ${s.code}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:s.code}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-sm font-mono text-gray-600 dark:text-gray-400",children:s.warehouse.display_name}),e.jsx(p,{variant:s.is_paid?"default":"secondary",className:s.is_paid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.is_paid?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),s.status_text]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"h-3 w-3 mr-1"}),s.status_text]})})]})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j,{href:"/invoices",children:e.jsxs(c,{variant:"outline",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Volver"]})}),s.is_pending&&e.jsxs(c,{onClick:b,className:"bg-green-600 hover:bg-green-700",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Marcar como Pagada"]}),s.is_paid&&e.jsxs(c,{onClick:y,variant:"outline",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Marcar como Por Pagar"]}),s.can_edit&&e.jsx(j,{href:`/invoices/${s.id}/edit`,children:e.jsxs(c,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})]}),(r==null?void 0:r.success)&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),r.success]}),(r==null?void 0:r.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.error}),(d==null?void 0:d.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:d.error}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Información de la Factura"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-lg font-mono",children:s.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total de Items"}),e.jsx("p",{className:"text-lg",children:e.jsxs(p,{variant:"outline",className:"text-base",children:[s.items_count," items"]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Monto Total"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.formatted_total_amount})]})]})]}),e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Almacén"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-lg font-mono",children:s.warehouse.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"text-lg",children:s.warehouse.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fechas"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Creada:"})," ",h(s.created_at)]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Actualizada:"})," ",h(s.updated_at)]})]})]})]})]})]}),e.jsxs(n,{children:[e.jsxs(i,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Items de la Factura"]}),e.jsx(P,{children:"Detalle de todos los items incluidos en esta factura"})]}),e.jsx(x,{children:s.items.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No hay items en esta factura"})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(S,{children:[e.jsx(A,{children:e.jsxs(o,{children:[e.jsx(l,{children:"Item"}),e.jsx(l,{children:"Código"}),e.jsx(l,{className:"text-right",children:"Cantidad"}),e.jsx(l,{className:"text-right",children:"Precio Unit."}),e.jsx(l,{className:"text-right",children:"Subtotal"})]})}),e.jsxs(D,{children:[s.items.map(a=>e.jsxs(o,{children:[e.jsx(t,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.item.name}),e.jsx("div",{className:"text-sm text-gray-500",children:a.item.unit})]})}),e.jsx(t,{children:e.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:a.item.code})}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"font-medium",children:a.formatted_amount})}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"font-medium",children:a.formatted_price})}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"font-bold text-green-600",children:a.formatted_subtotal})})]},a.id)),e.jsxs(o,{className:"border-t-2 bg-gray-50",children:[e.jsx(t,{colSpan:4,className:"text-right font-bold",children:"TOTAL:"}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"text-xl font-bold text-green-600",children:s.formatted_total_amount})})]})]})]})})})]})]})]})}export{Z as default};
