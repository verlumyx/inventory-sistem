import{r as c,j as e,H as ce,L as y,a as oe}from"./app-CDQDU1-Z.js";import{A as ne,C as j,a as u,b as N,d as f,c as de}from"./card-BPvXLcXN.js";import{a as E,u as R,d as me,c as n,e as T,B as v}from"./app-logo-icon-DBxQkU93.js";import{B as D,S as C}from"./badge-SZ_QnlOA.js";import{T as xe,a as ge,b as w,c as d,d as pe,e as m}from"./table-BSg8ChaG.js";import{c as he,a as je}from"./index-ZzJkojRU.js";import{c as P,R as ue,T as Ne,a as fe,W as ve,C as De,b as ye,D as Ae,d as $,O as be,P as A}from"./app-sidebar-layout-CmHeVIkJ.js";import{A as _e}from"./arrow-left-BSw41cGU.js";import{H as Ce}from"./hash-BGeb9Ytx.js";import{C as S}from"./calendar-Bo6lgJMV.js";/* empty css            */import"./index-BLfVfbLY.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Se=E("CircleCheckBig",we);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Re=E("MapPin",Ee);var F="AlertDialog",[Te,is]=he(F,[P]),o=P(),L=s=>{const{__scopeAlertDialog:t,...a}=s,i=o(t);return e.jsx(ue,{...i,...a,modal:!0})};L.displayName=F;var Pe="AlertDialogTrigger",O=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(Ne,{...l,...i,ref:t})});O.displayName=Pe;var $e="AlertDialogPortal",M=s=>{const{__scopeAlertDialog:t,...a}=s,i=o(t);return e.jsx(fe,{...i,...a})};M.displayName=$e;var Fe="AlertDialogOverlay",k=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(be,{...l,...i,ref:t})});k.displayName=Fe;var x="AlertDialogContent",[Le,Oe]=Te(x),Me=me("AlertDialogContent"),H=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,children:i,...l}=s,g=o(a),r=c.useRef(null),p=R(t,r),b=c.useRef(null);return e.jsx(ve,{contentName:x,titleName:z,docsSlug:"alert-dialog",children:e.jsx(Le,{scope:a,cancelRef:b,children:e.jsxs(De,{role:"alertdialog",...g,...l,ref:p,onOpenAutoFocus:je(l.onOpenAutoFocus,h=>{var _;h.preventDefault(),(_=b.current)==null||_.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[e.jsx(Me,{children:i}),e.jsx(He,{contentRef:r})]})})})});H.displayName=x;var z="AlertDialogTitle",B=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(ye,{...l,...i,ref:t})});B.displayName=z;var q="AlertDialogDescription",G=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx(Ae,{...l,...i,ref:t})});G.displayName=q;var ke="AlertDialogAction",I=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,l=o(a);return e.jsx($,{...l,...i,ref:t})});I.displayName=ke;var V="AlertDialogCancel",W=c.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...i}=s,{cancelRef:l}=Oe(V,a),g=o(a),r=R(t,l);return e.jsx($,{...g,...i,ref:r})});W.displayName=V;var He=({contentRef:s})=>{const t=`\`${x}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${x}\` by passing a \`${q}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${x}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var i;document.getElementById((i=s.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},ze=L,Be=O,qe=M,Y=k,U=H,J=I,K=W,Q=B,X=G;const Ge=ze,Ie=Be,Ve=qe,Z=c.forwardRef(({className:s,...t},a)=>e.jsx(Y,{className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));Z.displayName=Y.displayName;const ee=c.forwardRef(({className:s,...t},a)=>e.jsxs(Ve,{children:[e.jsx(Z,{}),e.jsx(U,{ref:a,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));ee.displayName=U.displayName;const se=({className:s,...t})=>e.jsx("div",{className:n("flex flex-col space-y-2 text-center sm:text-left",s),...t});se.displayName="AlertDialogHeader";const ae=({className:s,...t})=>e.jsx("div",{className:n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});ae.displayName="AlertDialogFooter";const te=c.forwardRef(({className:s,...t},a)=>e.jsx(Q,{ref:a,className:n("text-lg font-semibold",s),...t}));te.displayName=Q.displayName;const ie=c.forwardRef(({className:s,...t},a)=>e.jsx(X,{ref:a,className:n("text-sm text-muted-foreground",s),...t}));ie.displayName=X.displayName;const re=c.forwardRef(({className:s,...t},a)=>e.jsx(J,{ref:a,className:n(T(),s),...t}));re.displayName=J.displayName;const le=c.forwardRef(({className:s,...t},a)=>e.jsx(K,{ref:a,className:n(T({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));le.displayName=K.displayName;function rs({entry:s,items:t,metadata:a}){const[i,l]=c.useState(!1),g=()=>{oe.patch(route("entries.receive",s.id),{},{onSuccess:()=>{}}),l(!1)};return e.jsxs(ne,{children:[e.jsx(ce,{title:`Entrada - ${s.code}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.code}),e.jsx("p",{className:"text-muted-foreground",children:s.short_description})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:s.status===1?"default":"secondary",className:s.status===1?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.status===1?"Recibido":"Por recibir"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{href:route("entries.index"),children:e.jsxs(v,{variant:"outline",size:"sm",children:[e.jsx(_e,{className:"mr-2 h-4 w-4"}),"Volver"]})}),s.status===0&&e.jsx(y,{href:route("entries.edit",s.id),children:e.jsxs(v,{variant:"outline",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Editar"]})}),s.status===0&&e.jsxs(Ge,{open:i,onOpenChange:l,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(v,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Recibir"]})}),e.jsxs(ee,{children:[e.jsxs(se,{children:[e.jsx(te,{children:"Confirmar Recepción"}),e.jsxs(ie,{children:["¿Está seguro de que desea marcar la entrada ",e.jsx("strong",{children:s.code})," como recibida?",e.jsx("br",{}),"Esta acción no se puede deshacer."]})]}),e.jsxs(ae,{children:[e.jsx(le,{children:"Cancelar"}),e.jsx(re,{onClick:g,className:"bg-green-600 hover:bg-green-700",children:"Sí, marcar como recibida"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(j,{children:[e.jsx(u,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Información de la Entrada"]})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"text-gray-900 font-medium",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-gray-900 font-mono",children:s.code})]}),s.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descripción"}),e.jsx("p",{className:"text-gray-900",children:s.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("div",{className:"mt-1",children:e.jsx(D,{variant:s.status?"default":"secondary",className:s.status?"bg-green-100 text-green-800":"",children:s.status_text})})]})]})})]}),e.jsxs(j,{children:[e.jsx(u,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"Estadísticas"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.total_items}),e.jsx("div",{className:"text-sm text-blue-600",children:"Items"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.total_amount.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}),e.jsx("div",{className:"text-sm text-green-600",children:"Cantidad Total"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(S,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-500",children:"Creado:"}),e.jsx("span",{className:"font-medium",children:a.created_ago}),a.is_recently_created&&e.jsx(D,{variant:"outline",className:"text-xs",children:"Reciente"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(S,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-500",children:"Actualizado:"}),e.jsx("span",{className:"font-medium",children:a.updated_ago}),a.is_recently_updated&&e.jsx(D,{variant:"outline",className:"text-xs",children:"Reciente"})]})]})]})]})]}),e.jsxs(j,{children:[e.jsxs(u,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Items de la Entrada"]}),e.jsx(de,{children:a.total_items>0?`${a.total_items} item${a.total_items!==1?"s":""} en esta entrada`:"No hay items en esta entrada"})]}),e.jsx(f,{children:t.length>0?e.jsxs("div",{className:"rounded-md border",children:[e.jsxs(xe,{children:[e.jsx(ge,{children:e.jsxs(w,{children:[e.jsx(d,{className:"py-4",children:"Item"}),e.jsx(d,{className:"py-4",children:"Código"}),e.jsx(d,{className:"py-4",children:"Almacén"}),e.jsx(d,{className:"py-4",children:"Cantidad"}),e.jsx(d,{className:"py-4",children:"Precio Unit."}),e.jsx(d,{className:"py-4",children:"Total"})]})}),e.jsx(pe,{children:t.map(r=>e.jsxs(w,{children:[e.jsx(m,{className:"py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.item.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.item.display_name})]})}),e.jsx(m,{className:"font-mono py-4",children:r.item.code}),e.jsx(m,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.warehouse.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.warehouse.code})]})]})}),e.jsxs(m,{className:"py-4",children:[e.jsx("div",{className:"font-medium",children:r.amount.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}),r.item.unit&&e.jsx("div",{className:"text-sm text-gray-500",children:r.item.unit})]}),e.jsx(m,{className:"py-4",children:r.item.price?e.jsxs("span",{className:"font-medium",children:["$",r.item.price.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(m,{className:"py-4",children:r.item.price?e.jsxs("span",{className:"font-medium text-green-600",children:["$",(r.item.price*r.amount).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},r.id))})]}),e.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"font-medium",children:"Total de la Entrada:"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",t.reduce((r,p)=>r+(p.item.price?p.item.price*p.amount:0),0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"flex justify-between items-center text-sm text-gray-600 mt-1",children:e.jsxs("div",{children:[a.total_items," item",a.total_items!==1?"s":""," • ",a.total_amount.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," unidades totales"]})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"No hay items"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Esta entrada no tiene items asociados."}),e.jsx(y,{href:route("entries.edit",s.id),className:"mt-4 inline-block",children:e.jsxs(v,{variant:"outline",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Agregar Items"]})})]})})]}),e.jsxs(j,{children:[e.jsx(u,{children:e.jsx(N,{children:"Información Adicional"})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-500",children:"ID de la Entrada"}),e.jsx("p",{className:"text-gray-900",children:s.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-500",children:"Fecha de Creación"}),e.jsx("p",{className:"text-gray-900",children:new Date(s.created_at).toLocaleString("es-ES")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-500",children:"Última Modificación"}),e.jsx("p",{className:"text-gray-900",children:new Date(s.updated_at).toLocaleString("es-ES")})]})]})})]})]})]})}export{rs as default};
