import{j as e,H as b,L as h,a as o}from"./app-Doa1X8LG.js";import{A as y}from"./authenticated-layout-zkXyR4IY.js";import{a as _,B as l}from"./button-D4rUH4JB.js";import{C as d,a as c,b as n,d as i,c as C}from"./card-DF370HhO.js";import{B as j}from"./badge-BJmshktp.js";import{T as w,a as k,b as m,c as r,d as T,e as t}from"./table-DBCaEuI0.js";import{C as S}from"./circle-check-big-C09TKG2P.js";import{C as g}from"./clock-DQ1EG8Qt.js";import{A as P}from"./arrow-left-DUbe0Jwt.js";import{S as A}from"./square-pen-Dxq6FGvn.js";import{e as D,f as F,P as p}from"./app-header-layout-DeCsVdE4.js";/* empty css            */import"./index-CUR25A5V.js";import"./index-Cxkacx_1.js";import"./app-logo-icon-CJVXHink.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],L=_("DollarSign",H);function Q({invoice:s}){const x=a=>new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=()=>{o.patch(`/invoices/${s.id}/mark-as-paid`,{},{onSuccess:()=>{}})},u=()=>{o.patch(`/invoices/${s.id}/mark-as-pending`,{},{onSuccess:()=>{}})},f=[{title:"Panel de Control",href:"/dashboard"},{title:"Facturas",href:"/invoices"},{title:s.code,href:`/invoices/${s.id}`}];return e.jsxs(y,{breadcrumbs:f,children:[e.jsx(b,{title:`Factura ${s.code}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:s.code}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-sm font-mono text-gray-600 dark:text-gray-400",children:s.warehouse.display_name}),e.jsx(j,{variant:s.is_paid?"default":"secondary",className:s.is_paid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.is_paid?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-3 w-3 mr-1"}),s.status_text]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-3 w-3 mr-1"}),s.status_text]})})]})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{href:"/invoices",children:e.jsxs(l,{variant:"outline",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Volver"]})}),s.is_pending&&e.jsxs(l,{onClick:N,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Marcar como Pagada"]}),s.is_paid&&e.jsxs(l,{onClick:u,variant:"outline",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Marcar como Por Pagar"]}),s.can_edit&&e.jsx(h,{href:`/invoices/${s.id}/edit`,children:e.jsxs(l,{children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Información de la Factura"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-lg font-mono",children:s.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total de Items"}),e.jsx("p",{className:"text-lg",children:e.jsxs(j,{variant:"outline",className:"text-base",children:[s.items_count," items"]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Monto Total"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.formatted_total_amount})]})]})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Almacén"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-lg font-mono",children:s.warehouse.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"text-lg",children:s.warehouse.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fechas"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Creada:"})," ",x(s.created_at)]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Actualizada:"})," ",x(s.updated_at)]})]})]})]})]})]}),e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),"Items de la Factura"]}),e.jsx(C,{children:"Detalle de todos los items incluidos en esta factura"})]}),e.jsx(i,{children:s.items.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No hay items en esta factura"})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(w,{children:[e.jsx(k,{children:e.jsxs(m,{children:[e.jsx(r,{children:"Item"}),e.jsx(r,{children:"Código"}),e.jsx(r,{className:"text-right",children:"Cantidad"}),e.jsx(r,{className:"text-right",children:"Precio Unit."}),e.jsx(r,{className:"text-right",children:"Subtotal"})]})}),e.jsxs(T,{children:[s.items.map(a=>e.jsxs(m,{children:[e.jsx(t,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.item.name}),e.jsx("div",{className:"text-sm text-gray-500",children:a.item.unit})]})}),e.jsx(t,{children:e.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:a.item.code})}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"font-medium",children:a.formatted_amount})}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"font-medium",children:a.formatted_price})}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"font-bold text-green-600",children:a.formatted_subtotal})})]},a.id)),e.jsxs(m,{className:"border-t-2 bg-gray-50",children:[e.jsx(t,{colSpan:4,className:"text-right font-bold",children:"TOTAL:"}),e.jsx(t,{className:"text-right",children:e.jsx("span",{className:"text-xl font-bold text-green-600",children:s.formatted_total_amount})})]})]})]})})})]})]})]})}export{Q as default};
