import{r as N,j as e,H as B,L as u,a as f}from"./app-Doa1X8LG.js";import{A as L}from"./authenticated-layout-zkXyR4IY.js";import{B as r}from"./button-D4rUH4JB.js";import{I as D}from"./input-Dc5R9TS5.js";import{B as H}from"./badge-BJmshktp.js";import{C as c,a as d,b as i,d as n,c as E}from"./card-DF370HhO.js";import{T as R,a as z,b as C,c as x,d as I,e as o}from"./table-DBCaEuI0.js";import{P as T,S as $,a as A,b as M,c as V,d as b}from"./select-ZapHPyF4.js";import{P as j,S as q}from"./app-header-layout-DeCsVdE4.js";import{F as G}from"./filter-DarmveRt.js";import{E as K}from"./eye-CfbH9hpu.js";import{S as O}from"./square-pen-Dxq6FGvn.js";/* empty css            */import"./index-Cxkacx_1.js";import"./index-CUR25A5V.js";import"./check-DpiK8D10.js";import"./app-logo-icon-CJVXHink.js";function xe({entries:l,filters:m,pagination:a}){const[h,g]=N.useState(m.search||""),[v,F]=N.useState(!1),[p,w]=N.useState(m.status!==void 0?m.status?"true":"false":"all"),y=s=>{s&&s.preventDefault();const t={};h&&(t.search=h),p!=="all"&&(t.status=p),f.get(route("entries.index"),t,{preserveState:!0,replace:!0})},_=s=>{w(s);const t={};h&&(t.search=h),s!=="all"&&(t.status=s),f.get(route("entries.index"),t,{preserveState:!0,replace:!0})},P=()=>{g(""),w("all"),f.get(route("entries.index"),{},{preserveState:!0,replace:!0})},k=[{title:"Panel de Control",href:"/dashboard"},{title:"Entradas",href:"/entries"}],S=Object.keys(m).some(s=>m[s]);return e.jsxs(L,{breadcrumbs:k,children:[e.jsx(B,{title:"Entradas"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Entradas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona las entradas de inventario y sus items"})]}),e.jsx(u,{href:route("entries.create"),children:e.jsxs(r,{children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Nueva Entrada"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Entradas"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas registradas"})]})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Recibidas"}),e.jsx(j,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.data.filter(s=>s.status).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas recibidas"})]})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Por recibir"}),e.jsx(j,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.data.filter(s=>!s.status).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas por recibir"})]})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Esta Página"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l.data.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.from,"-",a.to," de ",a.total]})]})]})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Buscar Entradas"}),e.jsx(E,{children:"Encuentra entradas por nombre, código o descripción"})]}),e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>F(!v),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Mostrar Filtros"]})]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(D,{placeholder:"Buscar por nombre, código o descripción...",value:h,onChange:s=>g(s.target.value),onKeyDown:s=>s.key==="Enter"&&y()})}),e.jsxs(r,{onClick:y,children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Buscar"]})]}),v&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs($,{value:p,onValueChange:_,children:[e.jsx(A,{children:e.jsx(M,{placeholder:"Seleccionar estado"})}),e.jsxs(V,{children:[e.jsx(b,{value:"all",children:"Todos"}),e.jsx(b,{value:"false",children:"Por recibir"}),e.jsx(b,{value:"true",children:"Recibidas"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(r,{variant:"outline",onClick:P,children:"Limpiar Filtros"})})]})]})]}),e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(i,{children:"Lista de Entradas"}),e.jsx(E,{children:a.total>0?`Mostrando ${a.from} a ${a.to} de ${a.total} entradas`:"No se encontraron entradas"})]}),e.jsx(n,{children:l.data.length>0?e.jsx("div",{className:"rounded-md border",children:e.jsxs(R,{children:[e.jsx(z,{children:e.jsxs(C,{children:[e.jsx(x,{className:"py-4",children:"Código"}),e.jsx(x,{className:"py-4",children:"Nombre"}),e.jsx(x,{className:"py-4",children:"Descripción"}),e.jsx(x,{className:"py-4",children:"Estado"}),e.jsx(x,{className:"py-4",children:"Fecha Creación"}),e.jsx(x,{className:"text-right py-4",children:"Acciones"})]})}),e.jsx(I,{children:l.data.map(s=>e.jsxs(C,{children:[e.jsx(o,{className:"font-mono py-4",children:s.code}),e.jsx(o,{className:"font-medium py-4",children:s.name}),e.jsx(o,{className:"max-w-xs truncate py-4",children:s.description||"-"}),e.jsx(o,{className:"py-4",children:e.jsx(H,{variant:s.status_text==="Recibido"?"default":"secondary",className:s.status_text==="Recibido"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.status_text})}),e.jsx(o,{className:"py-4",children:new Date(s.created_at).toLocaleDateString("es-ES")}),e.jsx(o,{className:"text-right py-4",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(u,{href:`/entries/${s.id}`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(K,{className:"h-4 w-4"})})}),s.status===0&&e.jsx(u,{href:`/entries/${s.id}/edit`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(O,{className:"h-4 w-4"})})})]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay entradas"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:S?"No se encontraron entradas con los filtros aplicados.":"Comienza creando tu primera entrada."}),!S&&e.jsx(u,{href:route("entries.create"),className:"mt-4 inline-block",children:e.jsxs(r,{children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Nueva Entrada"]})})]})})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",a.current_page," de ",a.last_page]}),e.jsx("div",{className:"flex items-center space-x-2",children:l.links.map((s,t)=>e.jsx(r,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&f.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},t))})]})]})]})}export{xe as default};
