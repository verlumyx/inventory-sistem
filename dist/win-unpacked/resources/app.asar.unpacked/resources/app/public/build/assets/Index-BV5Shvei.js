import{r as b,j as e,H as _,L as u,a as p}from"./app-CDQDU1-Z.js";import{A as B,C as l,a as d,b as n,d as i,c as v}from"./card-BPvXLcXN.js";import{B as r}from"./app-logo-icon-DBxQkU93.js";import{I as F}from"./input-CBJR-IoQ.js";import{B as m,S as P}from"./badge-SZ_QnlOA.js";import{T as L,a as H,b as g,c as x,d as k,e as o}from"./table-BSg8ChaG.js";import{P as y}from"./plus-C8NLMfhi.js";import{P as h}from"./app-sidebar-layout-CmHeVIkJ.js";import{F as z,S as D}from"./search-DGl2RZcq.js";import{E as I}from"./eye-C4gEUw7o.js";/* empty css            */import"./index-ZzJkojRU.js";import"./index-BLfVfbLY.js";function X({entries:c,filters:a,pagination:t}){const[N,f]=b.useState(a.search||""),[w,E]=b.useState(!1),C=s=>{s.preventDefault(),p.get(route("entries.index"),{search:N,...a},{preserveState:!0,replace:!0})},S=()=>{f(""),p.get(route("entries.index"),{},{preserveState:!0,replace:!0})},j=Object.keys(a).some(s=>a[s]);return e.jsxs(B,{children:[e.jsx(_,{title:"Entradas"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Entradas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona las entradas de inventario y sus items"})]}),e.jsx(u,{href:route("entries.create"),children:e.jsxs(r,{children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Nueva Entrada"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Total Entradas"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas registradas"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Recibidas"}),e.jsx(h,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.data.filter(s=>s.status).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas recibidas"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Por recibir"}),e.jsx(h,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.data.filter(s=>!s.status).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas por recibir"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Esta Página"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.data.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.from,"-",t.to," de ",t.total]})]})]})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Buscar Entradas"}),e.jsx(v,{children:"Encuentra entradas por nombre, código o descripción"})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>E(!w),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Filtros"]})]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("form",{onSubmit:C,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(D,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(F,{placeholder:"Buscar por nombre, código o descripción...",value:N,onChange:s=>f(s.target.value),className:"pl-10"})]}),e.jsx(r,{type:"submit",children:"Buscar"}),j&&e.jsx(r,{type:"button",variant:"outline",onClick:S,children:"Limpiar"})]}),j&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.search&&e.jsxs(m,{variant:"secondary",children:["Búsqueda: ",a.search]}),a.status!==void 0&&e.jsxs(m,{variant:"secondary",children:["Estado: ",a.status?"Activo":"Inactivo"]}),a.name&&e.jsxs(m,{variant:"secondary",children:["Nombre: ",a.name]}),a.code&&e.jsxs(m,{variant:"secondary",children:["Código: ",a.code]})]})]})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsx(n,{children:"Lista de Entradas"}),e.jsx(v,{children:t.total>0?`Mostrando ${t.from} a ${t.to} de ${t.total} entradas`:"No se encontraron entradas"})]}),e.jsx(i,{children:c.data.length>0?e.jsx("div",{className:"rounded-md border",children:e.jsxs(L,{children:[e.jsx(H,{children:e.jsxs(g,{children:[e.jsx(x,{className:"py-4",children:"Código"}),e.jsx(x,{className:"py-4",children:"Nombre"}),e.jsx(x,{className:"py-4",children:"Descripción"}),e.jsx(x,{className:"py-4",children:"Estado"}),e.jsx(x,{className:"py-4",children:"Fecha Creación"}),e.jsx(x,{className:"text-right py-4",children:"Acciones"})]})}),e.jsx(k,{children:c.data.map(s=>e.jsxs(g,{children:[e.jsx(o,{className:"font-mono py-4",children:s.code}),e.jsx(o,{className:"font-medium py-4",children:s.name}),e.jsx(o,{className:"max-w-xs truncate py-4",children:s.description||"-"}),e.jsx(o,{className:"py-4",children:e.jsx(m,{variant:s.status_text==="Recibido"?"default":"secondary",className:s.status_text==="Recibido"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.status_text})}),e.jsx(o,{className:"py-4",children:new Date(s.created_at).toLocaleDateString("es-ES")}),e.jsx(o,{className:"text-right py-4",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(u,{href:`/entries/${s.id}`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(I,{className:"h-4 w-4"})})}),s.status===0&&e.jsx(u,{href:`/entries/${s.id}/edit`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(P,{className:"h-4 w-4"})})})]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay entradas"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:j?"No se encontraron entradas con los filtros aplicados.":"Comienza creando tu primera entrada."}),!j&&e.jsx(u,{href:route("entries.create"),className:"mt-4 inline-block",children:e.jsxs(r,{children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Nueva Entrada"]})})]})})]}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",t.current_page," de ",t.last_page]}),e.jsx("div",{className:"flex items-center space-x-2",children:c.links.map((s,T)=>e.jsx(r,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&p.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},T))})]})]})]})}export{X as default};
